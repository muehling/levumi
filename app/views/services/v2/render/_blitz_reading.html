<style>
  #answer {
    max-width: 4em;
    text-align: center;
  }
</style>
<script type="module">
  window.useBlitzReading = ({ resultHandler, item, isDemo, styles }) => {
    const el = $(`
          <div id="blitz-reading" class="d-flex justify-content-center flex-column">           
            <div id="mc-buttons" class="text-center"></div>                           
          </div>
      `)

    const mcButtons = window.useMultipleChoice({
      id: item.id,
      styles,
      item,
      resultHandler,
    })

    el.find('#mc-buttons').append(mcButtons)
    updateQuestion(el, item, styles)

    el.on('mounted', e => {
      e.stopPropagation()
    })
    return el
  }

  const updateQuestion = (el, item, styles) => {
    el.find('#question-space').html(item.question)
    el.find('#button-container').addClass('invisible')
    el.find('#continue-button').addClass('invisible')
    window.setTimeout(() => {
      el.find('#item-description').html('Welches Wort hast du gesehen?')
      el.find('#question-space').html('&nbsp;')
      el.find('#button-container').removeClass('invisible')
      el.find('#continue-button').removeClass('invisible')
    }, parseInt(item.timeout, 10))
  }
</script>
