<style>
  .height-80 {
    height: 80vh;
    width: 100%;
  }
  .image-button.image-button {
    padding: 0;
  }
  .image-button-inner {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    border-radius: 0.2em;
    cursor: pointer;
  }
  .button-container {
    min-height: 80vh;
  }
  #replay-button {
    height: 2em;
    width: 2em;
    border-radius: 0.2em;
    border-color: black;
  }
</style>
<script type="module">
  window.useAudioImagesMultipleChoice = ({ id, styles, item, nextItem, resultHandler, isDemo }) => {
    const el = $(
      `<div class="container d-flex flex-column w-100">
         <button id="replay-button" class="pull-right btn${isDemo ? ' d-none' : ''}">
          <i class="fas fa-arrow-rotate-right"></i>
        </button>
      <div id='audio-images-multiple-choice-${id}' class='height-80 d-flex justify-content-center align-items-center flex-column'>
        <audio id='audio-${id}' autoplay src='${media_paths[item.audio]}'></audio>
       
         
        <div class="w-100">
          <div id="button-container" class="row height-80"></div>
        </div>
      </div>
      </div>
      `
    ).css(styles)

    const images = item.wrongAnswers.split(',')
    images.push(item.correctAnswer)
    window.shuffleArray(images)
    const buttons = images.map(image => {
      return $(
        `<div class="image-button col-6 p-3">
          <div class="image-button-inner" style="background-image: url(${media_paths[image]})"></div>
        </div>`
      ).on('click', () => resultHandler(image))
    })

    el.find('#replay-button')
      .css(styles)
      .on('click', () => {
        $(`#audio-${id}`)[0].play()
      })

    el.find('#button-container').append(buttons)
    return el
  }
</script>
